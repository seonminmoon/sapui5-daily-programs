<mvc:View
	controllerName="todolist.controller.Main"
	xmlns="sap.m"
	xmlns:t="sap.ui.table"
	xmlns:core="sap.ui.core"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
    xmlns:viz.data="sap.viz.ui5.data"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<SplitApp
		id="SplitAppDemo"
		initialDetail="detail"
		initialMaster="master">
		<masterPages>
			<Page
				id="maste"
				title="Master"
				backgroundDesign="List">
				<List itemPress=".onListItemPress">
					<items>
						<StandardListItem title="Mobile Table" type="Active" custom:to="detail" />
						<StandardListItem title="PC Table" type="Active" custom:to="detailDetail" />
						<StandardListItem title="Product Details Chart View" type="Active" custom:to="chartDetail" />
					</items>
				</List>
                <viz:VizFrame id="idPieChart" vizType='pie' height="300px" width="auto" 
                selectData="onPressChartSelectData"
                custom:to="chartDetail"
                vizProperties="{
                    'legend' : { 'visible' : true },
                    'title' : { 'visible' : true , text : 'Products Pie'},
                    plotArea: {
                        dataLabel: { visible: false },
                        colorPalette:['#B5B2FF', '#B2EBF4', '#B7F0B1', '#FFE08C', '#FFC19E', '#FFA7A7']
                    }
                }">
                    <viz:dataset>
                        <viz.data:FlattenedDataset data="{/Product}">
                            <viz.data:dimensions>
                                <viz.data:DimensionDefinition name="Product Name" value="{ProductName}" />
                            </viz.data:dimensions>
                            <viz.data:measures>
                                <viz.data:MeasureDefinition name="Unit Price" value="{UnitPrice}" />
                            </viz.data:measures>
                        </viz.data:FlattenedDataset>
                    </viz:dataset>

                    <viz:feeds>
                        <viz.feeds:FeedItem uid="size" type="Measure" values="Unit Price" />
                        <viz.feeds:FeedItem uid="color" type="Dimension" values="Product Name" />
                    </viz:feeds>
                </viz:VizFrame>
			</Page>
		</masterPages>
		<detailPages>
            <!-- 첫번째 상세페이지 : M Table-->
			<Page
				id="detail"
				title="Detail View 1"
				backgroundDesign= "Solid">
                <Table id="idProductsTable"
                    items="{/mTable}">
                    <headerToolbar>
                        <OverflowToolbar>
                            <content>
                                <Title text="sap.m.Table"/>
                                <ToolbarSpacer />
                                <Button icon="sap-icon://add" press="onAdd('m')"/>
                                <Button icon="sap-icon://delete" press="onDelete('m')"/>
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>
                    <infoToolbar>
                        <OverflowToolbar>
                            <Label text="Wide range of available products"/>
                        </OverflowToolbar>
                    </infoToolbar>
                    <columns>
                        <Column>
                            <Text text="Product" />
                        </Column>
                        <Column
                            minScreenWidth="Tablet"
                            demandPopin="true">
                            <Text text="Supplier" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem vAlign="Middle">
                            <cells>
                                <ObjectIdentifier
                                    title="{Name}"
                                    text="{ProductId}"/>
                                <Text
                                    text="{SupplierName}" />
                                <!-- <ObjectNumber
                                    number="{WeightMeasure}"
                                    unit="{WeightUnit}"
                                    state="{
                                        parts: [
                                            {path: 'WeightMeasure'},
                                            {path: 'WeightUnit'}
                                        ],
                                        formatter: 'sap.m.sample.Table.Formatter.weightState'
                                    }" />
                                <ObjectNumber
                                        number="{
                                            parts:[{path:'Price'},{path:'CurrencyCode'}],
                                            type: 'sap.ui.model.type.Currency',
                                            formatOptions: {showMeasure: false}
                                        }"
                                        unit="{CurrencyCode}" /> -->
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
			</Page>
            <!-- 두번째 상세페이지 : UI Table-->
			<Page
				id="detailDetail"
				title="Detail View 2"
				backgroundDesign= "Solid"
				showNavButton="true"
				navButtonPress=".onPressDetailBack">
                <t:Table
                    rows="{/uiTable}"
                    visibleRowCount="7"
                    ariaLabelledBy="title">
                    <t:extension>
                        <OverflowToolbar design="Transparent">
                            <content>
                                <Title text="sap.ui.table.Table" level="H2"/>
                                <ToolbarSpacer />
                                <Button icon="sap-icon://add" press="onAdd('ui')"/>
                                <Button icon="sap-icon://delete" press="onDelete('ui')"/>
                            </content>
                        </OverflowToolbar>
                    </t:extension>
                    <t:columns>
                        <t:Column hAlign="Center">
                            <Label text="Data1" />
                            <t:template>
                                <Text text="{data1}" />
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="Center">
                            <Label text="Data2" />
                            <t:template>
                                <Text text="{data2}" />
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="Center">
                            <Label text="Data3" />
                            <t:template>
                                <Text text="{data3}" />
                            </t:template>
                        </t:Column>
                    </t:columns>
                </t:Table>
			</Page>
            <!-- 세번째 상세페이지 : Chart Details -->
			<Page
				id="chartDetail"
				title="Product Details Chart View"
				backgroundDesign= "Solid">
                <viz:VizFrame 
                    id="idLineChart"
                    width="100%" height="70%"
                    vizType='line'
                    vizProperties="{ 'title' : { 'visible' : true , text : 'Product Details'} }">
                    <viz:dataset>
                        <viz.data:FlattenedDataset data="{/chartDetail}">
                            <viz.data:dimensions>
                                <viz.data:DimensionDefinition name="Part Name" value="{name}" />
                            </viz.data:dimensions>
                            <viz.data:measures>
                                <viz.data:MeasureDefinition name="Rate" value="{rate}" />
                                <viz.data:MeasureDefinition name="Cost" value="{cost}" />
                            </viz.data:measures>
                        </viz.data:FlattenedDataset>
                    </viz:dataset>

                    <viz:feeds>
                        <viz.feeds:FeedItem uid="categoryAxis" type="Dimension" values="Part Name" />
                        <viz.feeds:FeedItem uid="valueAxis" type="Measure" values="Rate" />
                        <viz.feeds:FeedItem uid="valueAxis" type="Measure" values="Cost" />
                    </viz:feeds>
                </viz:VizFrame>
			</Page>
		</detailPages>
	</SplitApp>
</mvc:View>